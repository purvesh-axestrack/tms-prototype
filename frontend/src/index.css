@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ─── Theme Variables (runtime-switchable) ─── */
:root {
  /* Sidebar */
  --theme-sidebar-bg: #0f172a;
  --theme-sidebar-bg-light: #1e293b;
  --theme-sidebar-border: #334155;
  --theme-sidebar-text: #94a3b8;
  --theme-sidebar-text-muted: #64748b;
  --theme-sidebar-active: rgba(51, 65, 85, 0.8);
  --theme-sidebar-hover: rgba(255, 255, 255, 0.05);

  /* Brand / Accent */
  --theme-brand: #f59e0b;
  --theme-brand-hover: #d97706;
  --theme-brand-dark: #b45309;
  --theme-brand-light: #fef3c7;
  --theme-brand-muted: #fef9c3;
  --theme-brand-text: #92400e;
  --theme-brand-text-light: #b45309;

  /* Avatar gradient */
  --theme-avatar-from: #fbbf24;
  --theme-avatar-to: #d97706;

  /* Logo */
  --theme-logo-bg: #f59e0b;
}

/* ─── Theme: Ocean ─── */
[data-theme="ocean"] {
  --theme-sidebar-bg: #0c1929;
  --theme-sidebar-bg-light: #162234;
  --theme-sidebar-border: #1e3a5f;
  --theme-sidebar-text: #7eb8da;
  --theme-sidebar-text-muted: #4a7da8;
  --theme-sidebar-active: rgba(30, 58, 95, 0.8);
  --theme-sidebar-hover: rgba(126, 184, 218, 0.05);

  --theme-brand: #0ea5e9;
  --theme-brand-hover: #0284c7;
  --theme-brand-dark: #0369a1;
  --theme-brand-light: #e0f2fe;
  --theme-brand-muted: #f0f9ff;
  --theme-brand-text: #0c4a6e;
  --theme-brand-text-light: #0369a1;

  --theme-avatar-from: #38bdf8;
  --theme-avatar-to: #0284c7;

  --theme-logo-bg: #0ea5e9;
}

/* ─── Theme: Forest ─── */
[data-theme="forest"] {
  --theme-sidebar-bg: #14231a;
  --theme-sidebar-bg-light: #1a3025;
  --theme-sidebar-border: #2d5a3f;
  --theme-sidebar-text: #86bfa0;
  --theme-sidebar-text-muted: #5a9476;
  --theme-sidebar-active: rgba(45, 90, 63, 0.8);
  --theme-sidebar-hover: rgba(134, 191, 160, 0.05);

  --theme-brand: #10b981;
  --theme-brand-hover: #059669;
  --theme-brand-dark: #047857;
  --theme-brand-light: #d1fae5;
  --theme-brand-muted: #ecfdf5;
  --theme-brand-text: #065f46;
  --theme-brand-text-light: #047857;

  --theme-avatar-from: #34d399;
  --theme-avatar-to: #059669;

  --theme-logo-bg: #10b981;
}

/* ─── Theme: Sunset ─── */
[data-theme="sunset"] {
  --theme-sidebar-bg: #27150a;
  --theme-sidebar-bg-light: #3d2214;
  --theme-sidebar-border: #6b3a1f;
  --theme-sidebar-text: #d4a07a;
  --theme-sidebar-text-muted: #a0724e;
  --theme-sidebar-active: rgba(107, 58, 31, 0.8);
  --theme-sidebar-hover: rgba(212, 160, 122, 0.05);

  --theme-brand: #f97316;
  --theme-brand-hover: #ea580c;
  --theme-brand-dark: #c2410c;
  --theme-brand-light: #ffedd5;
  --theme-brand-muted: #fff7ed;
  --theme-brand-text: #9a3412;
  --theme-brand-text-light: #c2410c;

  --theme-avatar-from: #fb923c;
  --theme-avatar-to: #ea580c;

  --theme-logo-bg: #f97316;
}

/* ─── Theme: Midnight ─── */
[data-theme="midnight"] {
  --theme-sidebar-bg: #1a1035;
  --theme-sidebar-bg-light: #251548;
  --theme-sidebar-border: #3b2770;
  --theme-sidebar-text: #a894d4;
  --theme-sidebar-text-muted: #7c6aad;
  --theme-sidebar-active: rgba(59, 39, 112, 0.8);
  --theme-sidebar-hover: rgba(168, 148, 212, 0.05);

  --theme-brand: #8b5cf6;
  --theme-brand-hover: #7c3aed;
  --theme-brand-dark: #6d28d9;
  --theme-brand-light: #ede9fe;
  --theme-brand-muted: #f5f3ff;
  --theme-brand-text: #5b21b6;
  --theme-brand-text-light: #6d28d9;

  --theme-avatar-from: #a78bfa;
  --theme-avatar-to: #7c3aed;

  --theme-logo-bg: #8b5cf6;
}

/* ─── Theme: Ruby ─── */
[data-theme="ruby"] {
  --theme-sidebar-bg: #2a0f1a;
  --theme-sidebar-bg-light: #3d1628;
  --theme-sidebar-border: #6b2240;
  --theme-sidebar-text: #d48ba5;
  --theme-sidebar-text-muted: #a0607a;
  --theme-sidebar-active: rgba(107, 34, 64, 0.8);
  --theme-sidebar-hover: rgba(212, 139, 165, 0.05);

  --theme-brand: #e11d48;
  --theme-brand-hover: #be123c;
  --theme-brand-dark: #9f1239;
  --theme-brand-light: #ffe4e6;
  --theme-brand-muted: #fff1f2;
  --theme-brand-text: #881337;
  --theme-brand-text-light: #9f1239;

  --theme-avatar-from: #fb7185;
  --theme-avatar-to: #be123c;

  --theme-logo-bg: #e11d48;
}

/* ─── Tailwind Theme Registration ─── */
@theme inline {
  --font-sans: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-display: 'Roboto Slab', serif;

  /* Keep original navy/amber for non-themed usage (status badges, etc.) */
  --color-navy-900: #0f172a;
  --color-navy-800: #1e293b;
  --color-navy-700: #334155;
  --color-navy-600: #475569;

  --color-amber-500: #f59e0b;
  --color-amber-600: #d97706;
  --color-amber-700: #b45309;

  /* shadcn semantic tokens (not themed) */
  --color-background: oklch(1 0 0);
  --color-foreground: oklch(0.145 0 0);
  --color-card: oklch(1 0 0);
  --color-card-foreground: oklch(0.145 0 0);
  --color-popover: oklch(1 0 0);
  --color-popover-foreground: oklch(0.145 0 0);
  --color-primary: oklch(0.205 0.042 265.75);
  --color-primary-foreground: oklch(0.985 0 0);
  --color-secondary: oklch(0.97 0 0);
  --color-secondary-foreground: oklch(0.205 0 0);
  --color-muted: oklch(0.97 0 0);
  --color-muted-foreground: oklch(0.556 0 0);
  --color-accent: oklch(0.97 0 0);
  --color-accent-foreground: oklch(0.205 0 0);
  --color-destructive: oklch(0.577 0.245 27.325);
  --color-destructive-foreground: oklch(0.577 0.245 27.325);
  --color-border: oklch(0.922 0 0);
  --color-input: oklch(0.922 0 0);
  --color-ring: oklch(0.708 0 0);
  --color-chart-1: oklch(0.646 0.222 41.116);
  --color-chart-2: oklch(0.6 0.118 184.714);
  --color-chart-3: oklch(0.398 0.07 227.392);
  --color-chart-4: oklch(0.828 0.189 84.429);
  --color-chart-5: oklch(0.769 0.188 70.08);
  --color-sidebar: oklch(0.985 0 0);
  --color-sidebar-foreground: oklch(0.145 0 0);
  --color-sidebar-primary: oklch(0.205 0 0);
  --color-sidebar-primary-foreground: oklch(0.985 0 0);
  --color-sidebar-accent: oklch(0.97 0 0);
  --color-sidebar-accent-foreground: oklch(0.205 0 0);
  --color-sidebar-border: oklch(0.922 0 0);
  --color-sidebar-ring: oklch(0.708 0 0);
  --radius: 0.625rem;
}

/* ─── Theme Utility Classes ─── */

/* Sidebar */
.theme-sidebar { background-color: var(--theme-sidebar-bg); }
.theme-sidebar-light { background-color: var(--theme-sidebar-bg-light); }
.theme-sidebar-border { border-color: var(--theme-sidebar-border); }
.theme-sidebar-text { color: var(--theme-sidebar-text); }
.theme-sidebar-text-muted { color: var(--theme-sidebar-text-muted); }
.theme-sidebar-active { background-color: var(--theme-sidebar-active); }
.theme-sidebar-hover:hover { background-color: var(--theme-sidebar-hover); }

/* Brand / Accent button */
.theme-brand-bg { background-color: var(--theme-brand); }
.theme-brand-bg:hover { background-color: var(--theme-brand-hover); }
.theme-brand-text { color: var(--theme-brand-text-light); }
.theme-brand-text:hover { color: var(--theme-brand-dark); }

/* Brand badge/chip (light bg + dark text) */
.theme-brand-badge { background-color: var(--theme-brand-light); color: var(--theme-brand-text); }
.theme-brand-muted-bg { background-color: var(--theme-brand-muted); }
.theme-brand-border { border-color: var(--theme-brand); }
.theme-brand-border-light { border-color: var(--theme-brand-light); }
.theme-brand-icon { color: var(--theme-brand-text-light); }
.group:hover .theme-brand-group-hover { color: var(--theme-brand-text-light); }
.theme-brand-highlight { color: var(--theme-brand); }
.theme-brand-selected { border-color: var(--theme-brand); background-color: var(--theme-brand-muted); }
.theme-brand-alert { background-color: var(--theme-brand-muted); border-color: var(--theme-brand-light); }
.theme-brand-alert-text { color: var(--theme-brand-dark); }
.theme-brand-icon-box { background-color: var(--theme-brand-light); }
.theme-brand-icon-color { color: var(--theme-brand-dark); }
.theme-brand-dot { background-color: var(--theme-brand); }
.theme-brand-today { background-color: var(--theme-brand-muted); }
.theme-brand-chip { background-color: color-mix(in srgb, var(--theme-brand) 20%, transparent); color: var(--theme-brand-light); }

/* Logo */
.theme-logo { background-color: var(--theme-logo-bg); }

/* Avatar gradient */
.theme-avatar { background: linear-gradient(to bottom right, var(--theme-avatar-from), var(--theme-avatar-to)); }

body {
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: var(--color-background);
  color: var(--color-foreground);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Roboto Slab', serif;
  font-weight: 700;
  letter-spacing: -0.01em;
}

#root {
  min-height: 100vh;
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: oklch(0.869 0 0);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: oklch(0.708 0 0);
}
