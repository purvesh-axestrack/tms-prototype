@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ─── Theme Variables (runtime-switchable) ─── */
:root {
  /* Sidebar */
  --theme-sidebar-bg: #0f172a;
  --theme-sidebar-bg-light: #1e293b;
  --theme-sidebar-border: #334155;
  --theme-sidebar-text: #94a3b8;
  --theme-sidebar-text-muted: #64748b;
  --theme-sidebar-active: rgba(51, 65, 85, 0.8);
  --theme-sidebar-hover: rgba(255, 255, 255, 0.05);

  /* Brand / Accent — Steel Blue */
  --theme-brand: #3b82f6;
  --theme-brand-hover: #2563eb;
  --theme-brand-dark: #1d4ed8;
  --theme-brand-light: #dbeafe;
  --theme-brand-muted: #eff6ff;
  --theme-brand-text: #1e40af;
  --theme-brand-text-light: #1d4ed8;

  /* Avatar gradient */
  --theme-avatar-from: #60a5fa;
  --theme-avatar-to: #2563eb;

  /* Logo */
  --theme-logo-bg: #3b82f6;
}

/* ─── Theme: Indigo ─── */
[data-theme="ocean"] {
  --theme-sidebar-bg: #0f0e24;
  --theme-sidebar-bg-light: #1a1836;
  --theme-sidebar-border: #2e2b58;
  --theme-sidebar-text: #9b97cc;
  --theme-sidebar-text-muted: #6c68a6;
  --theme-sidebar-active: rgba(46, 43, 88, 0.8);
  --theme-sidebar-hover: rgba(155, 151, 204, 0.05);

  --theme-brand: #6366f1;
  --theme-brand-hover: #4f46e5;
  --theme-brand-dark: #4338ca;
  --theme-brand-light: #e0e7ff;
  --theme-brand-muted: #eef2ff;
  --theme-brand-text: #3730a3;
  --theme-brand-text-light: #4338ca;

  --theme-avatar-from: #818cf8;
  --theme-avatar-to: #4f46e5;

  --theme-logo-bg: #6366f1;
}

/* ─── Theme: Forest ─── */
[data-theme="forest"] {
  --theme-sidebar-bg: #12201c;
  --theme-sidebar-bg-light: #182d27;
  --theme-sidebar-border: #2a5446;
  --theme-sidebar-text: #80b8a4;
  --theme-sidebar-text-muted: #559078;
  --theme-sidebar-active: rgba(42, 84, 70, 0.8);
  --theme-sidebar-hover: rgba(128, 184, 164, 0.05);

  --theme-brand: #14b8a6;
  --theme-brand-hover: #0d9488;
  --theme-brand-dark: #0f766e;
  --theme-brand-light: #ccfbf1;
  --theme-brand-muted: #f0fdfa;
  --theme-brand-text: #115e59;
  --theme-brand-text-light: #0f766e;

  --theme-avatar-from: #2dd4bf;
  --theme-avatar-to: #0d9488;

  --theme-logo-bg: #14b8a6;
}

/* ─── Theme: Slate ─── */
[data-theme="sunset"] {
  --theme-sidebar-bg: #0f1419;
  --theme-sidebar-bg-light: #1a2028;
  --theme-sidebar-border: #2d3748;
  --theme-sidebar-text: #8b9ab5;
  --theme-sidebar-text-muted: #5e6e88;
  --theme-sidebar-active: rgba(45, 55, 72, 0.8);
  --theme-sidebar-hover: rgba(139, 154, 181, 0.05);

  --theme-brand: #64748b;
  --theme-brand-hover: #475569;
  --theme-brand-dark: #334155;
  --theme-brand-light: #e2e8f0;
  --theme-brand-muted: #f1f5f9;
  --theme-brand-text: #1e293b;
  --theme-brand-text-light: #334155;

  --theme-avatar-from: #94a3b8;
  --theme-avatar-to: #475569;

  --theme-logo-bg: #64748b;
}

/* ─── Theme: Midnight ─── */
[data-theme="midnight"] {
  --theme-sidebar-bg: #0a0e1a;
  --theme-sidebar-bg-light: #111827;
  --theme-sidebar-border: #1e2a42;
  --theme-sidebar-text: #7889a8;
  --theme-sidebar-text-muted: #4b5c78;
  --theme-sidebar-active: rgba(30, 42, 66, 0.8);
  --theme-sidebar-hover: rgba(120, 137, 168, 0.05);

  --theme-brand: #1d4ed8;
  --theme-brand-hover: #1e40af;
  --theme-brand-dark: #1e3a8a;
  --theme-brand-light: #dbeafe;
  --theme-brand-muted: #eff6ff;
  --theme-brand-text: #1e3a8a;
  --theme-brand-text-light: #1e40af;

  --theme-avatar-from: #3b82f6;
  --theme-avatar-to: #1e40af;

  --theme-logo-bg: #1d4ed8;
}

/* ─── Theme: Ruby ─── */
[data-theme="ruby"] {
  --theme-sidebar-bg: #2a0f1a;
  --theme-sidebar-bg-light: #3d1628;
  --theme-sidebar-border: #6b2240;
  --theme-sidebar-text: #d48ba5;
  --theme-sidebar-text-muted: #a0607a;
  --theme-sidebar-active: rgba(107, 34, 64, 0.8);
  --theme-sidebar-hover: rgba(212, 139, 165, 0.05);

  --theme-brand: #e11d48;
  --theme-brand-hover: #be123c;
  --theme-brand-dark: #9f1239;
  --theme-brand-light: #ffe4e6;
  --theme-brand-muted: #fff1f2;
  --theme-brand-text: #881337;
  --theme-brand-text-light: #9f1239;

  --theme-avatar-from: #fb7185;
  --theme-avatar-to: #be123c;

  --theme-logo-bg: #e11d48;
}

/* ─── Tailwind Theme Registration ─── */
@theme inline {
  --font-sans: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-display: 'Roboto Slab', serif;

  /* Keep original navy/amber for non-themed usage (status badges, etc.) */
  --color-navy-900: #0f172a;
  --color-navy-800: #1e293b;
  --color-navy-700: #334155;
  --color-navy-600: #475569;

  --color-amber-500: #f59e0b;
  --color-amber-600: #d97706;
  --color-amber-700: #b45309;

  /* shadcn semantic tokens (not themed) */
  --color-background: oklch(1 0 0);
  --color-foreground: oklch(0.145 0 0);
  --color-card: oklch(1 0 0);
  --color-card-foreground: oklch(0.145 0 0);
  --color-popover: oklch(1 0 0);
  --color-popover-foreground: oklch(0.145 0 0);
  --color-primary: oklch(0.205 0.042 265.75);
  --color-primary-foreground: oklch(0.985 0 0);
  --color-secondary: oklch(0.97 0 0);
  --color-secondary-foreground: oklch(0.205 0 0);
  --color-muted: oklch(0.97 0 0);
  --color-muted-foreground: oklch(0.556 0 0);
  --color-accent: oklch(0.97 0 0);
  --color-accent-foreground: oklch(0.205 0 0);
  --color-destructive: oklch(0.577 0.245 27.325);
  --color-destructive-foreground: oklch(0.577 0.245 27.325);
  --color-border: oklch(0.922 0 0);
  --color-input: oklch(0.922 0 0);
  --color-ring: oklch(0.708 0 0);
  --color-chart-1: oklch(0.646 0.222 41.116);
  --color-chart-2: oklch(0.6 0.118 184.714);
  --color-chart-3: oklch(0.398 0.07 227.392);
  --color-chart-4: oklch(0.828 0.189 84.429);
  --color-chart-5: oklch(0.769 0.188 70.08);
  --color-sidebar: oklch(0.985 0 0);
  --color-sidebar-foreground: oklch(0.145 0 0);
  --color-sidebar-primary: oklch(0.205 0 0);
  --color-sidebar-primary-foreground: oklch(0.985 0 0);
  --color-sidebar-accent: oklch(0.97 0 0);
  --color-sidebar-accent-foreground: oklch(0.205 0 0);
  --color-sidebar-border: oklch(0.922 0 0);
  --color-sidebar-ring: oklch(0.708 0 0);
  --radius: 0.625rem;
}

/* ─── Theme Utility Classes ─── */

/* Sidebar */
.theme-sidebar { background-color: var(--theme-sidebar-bg); }
.theme-sidebar-light { background-color: var(--theme-sidebar-bg-light); }
.theme-sidebar-border { border-color: var(--theme-sidebar-border); }
.theme-sidebar-text { color: var(--theme-sidebar-text); }
.theme-sidebar-text-muted { color: var(--theme-sidebar-text-muted); }
.theme-sidebar-active { background-color: var(--theme-sidebar-active); }
.theme-sidebar-hover:hover { background-color: var(--theme-sidebar-hover); }

/* Brand / Accent button */
.theme-brand-bg { background-color: var(--theme-brand); }
.theme-brand-bg:hover { background-color: var(--theme-brand-hover); }
.theme-brand-text { color: var(--theme-brand-text-light); }
.theme-brand-text:hover { color: var(--theme-brand-dark); }

/* Brand badge/chip (light bg + dark text) */
.theme-brand-badge { background-color: var(--theme-brand-light); color: var(--theme-brand-text); }
.theme-brand-muted-bg { background-color: var(--theme-brand-muted); }
.theme-brand-border { border-color: var(--theme-brand); }
.theme-brand-border-light { border-color: var(--theme-brand-light); }
.theme-brand-icon { color: var(--theme-brand-text-light); }
.group:hover .theme-brand-group-hover { color: var(--theme-brand-text-light); }
.theme-brand-highlight { color: var(--theme-brand); }
.theme-brand-selected { border-color: var(--theme-brand); background-color: var(--theme-brand-muted); }
.theme-brand-alert { background-color: var(--theme-brand-muted); border-color: var(--theme-brand-light); }
.theme-brand-alert-text { color: var(--theme-brand-dark); }
.theme-brand-icon-box { background-color: var(--theme-brand-light); }
.theme-brand-icon-color { color: var(--theme-brand-dark); }
.theme-brand-dot { background-color: var(--theme-brand); }
.theme-brand-today { background-color: var(--theme-brand-muted); }
.theme-brand-chip { background-color: color-mix(in srgb, var(--theme-brand) 20%, transparent); color: var(--theme-brand-light); }

/* Logo */
.theme-logo { background-color: var(--theme-logo-bg); }

/* Avatar gradient */
.theme-avatar { background: linear-gradient(to bottom right, var(--theme-avatar-from), var(--theme-avatar-to)); }

body {
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: var(--color-background);
  color: var(--color-foreground);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Roboto Slab', serif;
  font-weight: 700;
  letter-spacing: -0.01em;
}

#root {
  min-height: 100vh;
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: oklch(0.869 0 0);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: oklch(0.708 0 0);
}
