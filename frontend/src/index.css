@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ─── Theme Variables (runtime-switchable) ─── */
:root {
  /* Sidebar */
  --theme-sidebar-bg: #0f172a;
  --theme-sidebar-bg-light: #1e293b;
  --theme-sidebar-border: #334155;
  --theme-sidebar-text: #94a3b8;
  --theme-sidebar-text-muted: #64748b;
  --theme-sidebar-active: rgba(51, 65, 85, 0.8);
  --theme-sidebar-hover: rgba(255, 255, 255, 0.05);

  /* Brand / Accent — Gold */
  --theme-brand: #eab308;
  --theme-brand-hover: #ca8a04;
  --theme-brand-dark: #a16207;
  --theme-brand-light: #fef9c3;
  --theme-brand-muted: #fefce8;
  --theme-brand-text: #854d0e;
  --theme-brand-text-light: #a16207;

  /* Avatar gradient */
  --theme-avatar-from: #facc15;
  --theme-avatar-to: #ca8a04;

  /* Logo */
  --theme-logo-bg: #eab308;
}

/* ─── Theme: Ocean ─── */
[data-theme="ocean"] {
  --theme-sidebar-bg: #0a1628;
  --theme-sidebar-bg-light: #132035;
  --theme-sidebar-border: #1a3354;
  --theme-sidebar-text: #7db4d6;
  --theme-sidebar-text-muted: #4879a6;
  --theme-sidebar-active: rgba(26, 51, 84, 0.8);
  --theme-sidebar-hover: rgba(125, 180, 214, 0.05);

  --theme-brand: #06b6d4;
  --theme-brand-hover: #0891b2;
  --theme-brand-dark: #0e7490;
  --theme-brand-light: #cffafe;
  --theme-brand-muted: #ecfeff;
  --theme-brand-text: #155e75;
  --theme-brand-text-light: #0e7490;

  --theme-avatar-from: #22d3ee;
  --theme-avatar-to: #0891b2;

  --theme-logo-bg: #06b6d4;
}

/* ─── Theme: Forest ─── */
[data-theme="forest"] {
  --theme-sidebar-bg: #12201c;
  --theme-sidebar-bg-light: #182d27;
  --theme-sidebar-border: #2a5446;
  --theme-sidebar-text: #80b8a4;
  --theme-sidebar-text-muted: #559078;
  --theme-sidebar-active: rgba(42, 84, 70, 0.8);
  --theme-sidebar-hover: rgba(128, 184, 164, 0.05);

  --theme-brand: #14b8a6;
  --theme-brand-hover: #0d9488;
  --theme-brand-dark: #0f766e;
  --theme-brand-light: #ccfbf1;
  --theme-brand-muted: #f0fdfa;
  --theme-brand-text: #115e59;
  --theme-brand-text-light: #0f766e;

  --theme-avatar-from: #2dd4bf;
  --theme-avatar-to: #0d9488;

  --theme-logo-bg: #14b8a6;
}

/* ─── Theme: Sunset ─── */
[data-theme="sunset"] {
  --theme-sidebar-bg: #251510;
  --theme-sidebar-bg-light: #3a2018;
  --theme-sidebar-border: #63382a;
  --theme-sidebar-text: #d09880;
  --theme-sidebar-text-muted: #9c6e54;
  --theme-sidebar-active: rgba(99, 56, 42, 0.8);
  --theme-sidebar-hover: rgba(208, 152, 128, 0.05);

  --theme-brand: #ef4444;
  --theme-brand-hover: #dc2626;
  --theme-brand-dark: #b91c1c;
  --theme-brand-light: #fee2e2;
  --theme-brand-muted: #fef2f2;
  --theme-brand-text: #991b1b;
  --theme-brand-text-light: #b91c1c;

  --theme-avatar-from: #f87171;
  --theme-avatar-to: #dc2626;

  --theme-logo-bg: #ef4444;
}

/* ─── Theme: Midnight ─── */
[data-theme="midnight"] {
  --theme-sidebar-bg: #171030;
  --theme-sidebar-bg-light: #211442;
  --theme-sidebar-border: #362468;
  --theme-sidebar-text: #a490d0;
  --theme-sidebar-text-muted: #7866a8;
  --theme-sidebar-active: rgba(54, 36, 104, 0.8);
  --theme-sidebar-hover: rgba(164, 144, 208, 0.05);

  --theme-brand: #a855f7;
  --theme-brand-hover: #9333ea;
  --theme-brand-dark: #7e22ce;
  --theme-brand-light: #f3e8ff;
  --theme-brand-muted: #faf5ff;
  --theme-brand-text: #6b21a8;
  --theme-brand-text-light: #7e22ce;

  --theme-avatar-from: #c084fc;
  --theme-avatar-to: #9333ea;

  --theme-logo-bg: #a855f7;
}

/* ─── Theme: Ruby ─── */
[data-theme="ruby"] {
  --theme-sidebar-bg: #2a0f1a;
  --theme-sidebar-bg-light: #3d1628;
  --theme-sidebar-border: #6b2240;
  --theme-sidebar-text: #d48ba5;
  --theme-sidebar-text-muted: #a0607a;
  --theme-sidebar-active: rgba(107, 34, 64, 0.8);
  --theme-sidebar-hover: rgba(212, 139, 165, 0.05);

  --theme-brand: #e11d48;
  --theme-brand-hover: #be123c;
  --theme-brand-dark: #9f1239;
  --theme-brand-light: #ffe4e6;
  --theme-brand-muted: #fff1f2;
  --theme-brand-text: #881337;
  --theme-brand-text-light: #9f1239;

  --theme-avatar-from: #fb7185;
  --theme-avatar-to: #be123c;

  --theme-logo-bg: #e11d48;
}

/* ─── Tailwind Theme Registration ─── */
@theme inline {
  --font-sans: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-display: 'Roboto Slab', serif;

  /* Keep original navy/amber for non-themed usage (status badges, etc.) */
  --color-navy-900: #0f172a;
  --color-navy-800: #1e293b;
  --color-navy-700: #334155;
  --color-navy-600: #475569;

  --color-amber-500: #f59e0b;
  --color-amber-600: #d97706;
  --color-amber-700: #b45309;

  /* shadcn semantic tokens (not themed) */
  --color-background: oklch(1 0 0);
  --color-foreground: oklch(0.145 0 0);
  --color-card: oklch(1 0 0);
  --color-card-foreground: oklch(0.145 0 0);
  --color-popover: oklch(1 0 0);
  --color-popover-foreground: oklch(0.145 0 0);
  --color-primary: oklch(0.205 0.042 265.75);
  --color-primary-foreground: oklch(0.985 0 0);
  --color-secondary: oklch(0.97 0 0);
  --color-secondary-foreground: oklch(0.205 0 0);
  --color-muted: oklch(0.97 0 0);
  --color-muted-foreground: oklch(0.556 0 0);
  --color-accent: oklch(0.97 0 0);
  --color-accent-foreground: oklch(0.205 0 0);
  --color-destructive: oklch(0.577 0.245 27.325);
  --color-destructive-foreground: oklch(0.577 0.245 27.325);
  --color-border: oklch(0.922 0 0);
  --color-input: oklch(0.922 0 0);
  --color-ring: oklch(0.708 0 0);
  --color-chart-1: oklch(0.646 0.222 41.116);
  --color-chart-2: oklch(0.6 0.118 184.714);
  --color-chart-3: oklch(0.398 0.07 227.392);
  --color-chart-4: oklch(0.828 0.189 84.429);
  --color-chart-5: oklch(0.769 0.188 70.08);
  --color-sidebar: oklch(0.985 0 0);
  --color-sidebar-foreground: oklch(0.145 0 0);
  --color-sidebar-primary: oklch(0.205 0 0);
  --color-sidebar-primary-foreground: oklch(0.985 0 0);
  --color-sidebar-accent: oklch(0.97 0 0);
  --color-sidebar-accent-foreground: oklch(0.205 0 0);
  --color-sidebar-border: oklch(0.922 0 0);
  --color-sidebar-ring: oklch(0.708 0 0);
  --radius: 0.625rem;
}

/* ─── Theme Utility Classes ─── */

/* Sidebar */
.theme-sidebar { background-color: var(--theme-sidebar-bg); }
.theme-sidebar-light { background-color: var(--theme-sidebar-bg-light); }
.theme-sidebar-border { border-color: var(--theme-sidebar-border); }
.theme-sidebar-text { color: var(--theme-sidebar-text); }
.theme-sidebar-text-muted { color: var(--theme-sidebar-text-muted); }
.theme-sidebar-active { background-color: var(--theme-sidebar-active); }
.theme-sidebar-hover:hover { background-color: var(--theme-sidebar-hover); }

/* Brand / Accent button */
.theme-brand-bg { background-color: var(--theme-brand); }
.theme-brand-bg:hover { background-color: var(--theme-brand-hover); }
.theme-brand-text { color: var(--theme-brand-text-light); }
.theme-brand-text:hover { color: var(--theme-brand-dark); }

/* Brand badge/chip (light bg + dark text) */
.theme-brand-badge { background-color: var(--theme-brand-light); color: var(--theme-brand-text); }
.theme-brand-muted-bg { background-color: var(--theme-brand-muted); }
.theme-brand-border { border-color: var(--theme-brand); }
.theme-brand-border-light { border-color: var(--theme-brand-light); }
.theme-brand-icon { color: var(--theme-brand-text-light); }
.group:hover .theme-brand-group-hover { color: var(--theme-brand-text-light); }
.theme-brand-highlight { color: var(--theme-brand); }
.theme-brand-selected { border-color: var(--theme-brand); background-color: var(--theme-brand-muted); }
.theme-brand-alert { background-color: var(--theme-brand-muted); border-color: var(--theme-brand-light); }
.theme-brand-alert-text { color: var(--theme-brand-dark); }
.theme-brand-icon-box { background-color: var(--theme-brand-light); }
.theme-brand-icon-color { color: var(--theme-brand-dark); }
.theme-brand-dot { background-color: var(--theme-brand); }
.theme-brand-today { background-color: var(--theme-brand-muted); }
.theme-brand-chip { background-color: color-mix(in srgb, var(--theme-brand) 20%, transparent); color: var(--theme-brand-light); }

/* Logo */
.theme-logo { background-color: var(--theme-logo-bg); }

/* Avatar gradient */
.theme-avatar { background: linear-gradient(to bottom right, var(--theme-avatar-from), var(--theme-avatar-to)); }

body {
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: var(--color-background);
  color: var(--color-foreground);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Roboto Slab', serif;
  font-weight: 700;
  letter-spacing: -0.01em;
}

#root {
  min-height: 100vh;
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: oklch(0.869 0 0);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: oklch(0.708 0 0);
}
